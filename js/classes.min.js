!function(t){var r={};function e(i){if(r[i])return r[i].exports;var n=r[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}e.m=t,e.c=r,e.d=function(t,r,i){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var n in t)e.d(i,n,function(r){return t[r]}.bind(null,n));return i},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=11)}([function(t,r,e){"use strict";e.r(r),e.d(r,"Floor",(function(){return i}));class i{constructor(t,r,e){this.name=t,this.floorNumber=r,this.requirements=e}toString(){return this.floorNumber+": "+this.name}}},,function(t,r,e){"use strict";e.r(r),e.d(r,"Rarity",(function(){return i}));const i={HIDDEN:"hidden",RAW:"raw",COMMON:"common",RARE:"rare",EPIC:"epic",LEGENDARY:"legendary"}},function(t,r,e){"use strict";e.r(r),e.d(r,"Crafting",(function(){return i}));class i{constructor(t){this.craftingRecipes=t,this.craftingList=new Map,this.craftingTime=30,this.currentCraft=new Map}addCraftingItem(t,r){if(void 0!==this.craftingRecipes.get(t)){var e=this.craftingList.get(t);if(void 0===e)0===r?this.craftingList.delete(t):this.craftingList.set(t,r);else 0===e+r?this.craftingList.delete(t):this.craftingList.set(t,e+r)}}setCraftingItem(t,r){void 0!==this.craftingRecipes.get(t)&&(0===r?this.craftingList.delete(t):this.craftingList.set(t,r))}setCraftingTime(t){this.craftingTime=t}getCraftingRequirements(){this.currentCraft.clear();for(const[t,e]of this.craftingList.entries()){(r=this.craftingRecipes.get(t)).quantity=e,this.getItemRequirements(r,r.quantity),this.addElementToCurrentCraft(r.name,r.quantity)}var t=[];for(const[e,i]of this.currentCraft.entries()){(r=this.craftingRecipes.get(e)).quantity=i,t.push(r)}for(var r of(t.sort((function(t,r){return t.sortingOrder-r.sortingOrder})),this.currentCraft.clear(),t))this.addElementToCurrentCraft(r.name,r.quantity);return this.currentCraft}getItemRequirements(t,r=1){if(null!==t.craftingRequirements){for(var e=0;e<t.craftingRequirements.length;e++){var i=t.craftingRequirements[e].craftingItem.name,n=t.craftingRequirements[e].quantity*r,s=this.craftingRecipes.get(i);this.getItemRequirements(s,n),this.addElementToCurrentCraft(i,n)}return this.currentCraft}}addElementToCurrentCraft(t,r){if(void 0===this.currentCraft.get(t))this.currentCraft.set(t,r);else{var e=this.currentCraft.get(t);this.currentCraft.set(t,e+r)}}getTotalCost(t=1){var r=0;for(const[i,n]of this.getCraftingRequirements()){var e=this.craftingRecipes.get(i);e.quantity=n,r+=e.getCost(e.getCraftingMethod(this.craftingTime),t)}return r}}},function(t,r,e){"use strict";e.r(r),e.d(r,"CraftingItem",(function(){return s}));var i=e(5),n=e(2);class s{constructor(t,r,e,i,n,s,a=null,u=1){this.name=t,this.category=r,this.baseCost=e,this.craftingTime=i,this.rarity=n,this.sortingOrder=s,this.quantity=u,this.craftingRequirements=a}getRarityValue(){switch(this.rarity){case n.Rarity.HIDDEN:return 0;case n.Rarity.RAW:return 1;default:case n.Rarity.COMMON:return 2;case n.Rarity.RARE:return 3;case n.Rarity.EPIC:return 4;case n.Rarity.LEGENDARY:return 5}}getCraftingMethod(t){console.log("getCraftingMethod: "+this.craftingTime+" : "+t);var r=1;if(this.craftingTime<t&&(r=Math.floor(t/this.craftingTime)),r>this.quantity)return r=this.quantity,[new i.CraftingMethod(1,this.quantity)];if(1===r)return[new i.CraftingMethod(this.quantity,1)];for(var e=Math.ceil(this.quantity/r),n=e-1,s=1;s<=r;s++){if(e*s+n*(r-s)===this.quantity)return r-s>0?[new i.CraftingMethod(e,s),new i.CraftingMethod(n,r-s)]:[new i.CraftingMethod(e,s)]}return[]}getCost(t,r=1){for(var e=0,i=0;i<t.length;i++)e+=this.baseCost/4*(Math.pow(t[i].itemQuantity,2)+3*t[i].itemQuantity)*t[i].crafts;return"3 Stars"===this.name?e:Math.ceil(e/r)}toString(){var t="";if(null!==this.craftingRequirements){for(var r=0;r<this.craftingRequirements.length;r++)t+=this.craftingRequirements[r].craftingItem.name+": "+this.craftingRequirements[r].quantity*this.quantity+", ";t=t.substring(0,t.length-2)}return"["+this.category+"/"+this.rarity+"] "+this.name+"("+this.quantity+"): "+this.baseCost+"coins, "+this.craftingTime+"min. Crafting Requirement: "+t}}},function(t,r,e){"use strict";e.r(r),e.d(r,"CraftingMethod",(function(){return i}));class i{constructor(t,r){this.itemQuantity=t,this.crafts=r}toString(){return"Craft: "+this.itemQuantity+"x, "+this.crafts+"times"}}},function(t,r,e){"use strict";e.r(r),e.d(r,"CraftingRequirement",(function(){return i}));class i{constructor(t,r){this.craftingItem=t,this.quantity=r}toString(){return this.craftingItem.name+": "+this.quantity}}},,,,,function(t,r,e){e(3),e(4),e(5),e(6),e(0),t.exports=e(2)}]);