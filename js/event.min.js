!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=15)}([function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{constructor(t,e,n){this.name=t,this.floorNumber=e,this.requirements=n}toString(){return this.floorNumber+": "+this.name}}},function(t,e,n){"use strict";n.r(e),n.d(e,"rawMaterialNames",(function(){return c})),n.d(e,"craftingItemNames",(function(){return s})),n.d(e,"prizeNames",(function(){return o})),n.d(e,"getCraftingRecipes",(function(){return m}));var r=n(4),i=n(6),a=n(2);const c=["Star Magic","Moon Magic","Smoke Magic"],s=["Star Book","Moon Hat","Smoke Wand","Tube Potion","Bottle Potion","Cauldron","3 Stars"],o=["Hepzibah","Brewing Station","Brew","Conjuring Table","Jocasta","Familiar","Leroi","Summoning Circle","Flying Broomsticks","Potion Shelf"];function m(){var t=new Map;const e=new r.CraftingItem(c[0],"",0,0,a.Rarity.RAW,1),n=new r.CraftingItem(c[1],"",0,0,a.Rarity.RAW,2),o=new r.CraftingItem(c[2],"",0,0,a.Rarity.RAW,3);t.set(e.name,e),t.set(n.name,n),t.set(o.name,o);const m=[new i.CraftingRequirement(e,4)],u=new r.CraftingItem(s[0],"Tier 1 Crafting",20,15,a.Rarity.COMMON,5,m);t.set(u.name,u);const f=[new i.CraftingRequirement(n,4)],d=new r.CraftingItem(s[1],"Tier 1 Crafting",20,15,a.Rarity.COMMON,6,f);t.set(d.name,d);const l=[new i.CraftingRequirement(o,4)],g=new r.CraftingItem(s[2],"Tier 1 Crafting",20,15,a.Rarity.COMMON,7,l);t.set(g.name,g);const h=[new i.CraftingRequirement(u,3),new i.CraftingRequirement(d,2),new i.CraftingRequirement(g,2)],p=new r.CraftingItem(s[3],"Tier 2 Crafting",150,15,a.Rarity.RARE,8,h);t.set(p.name,p);const C=[new i.CraftingRequirement(p,2),new i.CraftingRequirement(g,4),new i.CraftingRequirement(d,4)],y=new r.CraftingItem(s[4],"Tier 2 Crafting",200,30,a.Rarity.RARE,9,C);t.set(y.name,y);const R=[new i.CraftingRequirement(y,3),new i.CraftingRequirement(u,8)],v=new r.CraftingItem(s[5],"Tier 2 Crafting",400,60,a.Rarity.RARE,10,R);t.set(v.name,v);const I=[new i.CraftingRequirement(u,1),new i.CraftingRequirement(d,1),new i.CraftingRequirement(g,1),new i.CraftingRequirement(y,1)],N=new r.CraftingItem(s[6],"Star Crafting",300,0,a.Rarity.RARE,11,I);return t.set(N.name,N),t}},function(t,e,n){"use strict";n.r(e),n.d(e,"Rarity",(function(){return r}));const r={HIDDEN:"hidden",RAW:"raw",COMMON:"common",RARE:"rare",EPIC:"epic",LEGENDARY:"legendary"}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));class r{constructor(t){this.craftingRecipes=t,this.craftingList=new Map,this.craftingTime=30,this.currentCraft=new Map}addCraftingItem(t,e){if(void 0!==this.craftingRecipes.get(t)){var n=this.craftingList.get(t);if(void 0===n)0===e?this.craftingList.delete(t):this.craftingList.set(t,e);else 0===n+e?this.craftingList.delete(t):this.craftingList.set(t,n+e)}}setCraftingItem(t,e){void 0!==this.craftingRecipes.get(t)&&(0===e?this.craftingList.delete(t):this.craftingList.set(t,e))}setCraftingTime(t){this.craftingTime=t}getCraftingRequirements(){this.currentCraft.clear();for(const[t,n]of this.craftingList.entries()){(e=this.craftingRecipes.get(t)).quantity=n,this.getItemRequirements(e,e.quantity),this.addElementToCurrentCraft(e.name,e.quantity)}var t=[];for(const[n,r]of this.currentCraft.entries()){(e=this.craftingRecipes.get(n)).quantity=r,t.push(e)}for(var e of(t.sort((function(t,e){return t.sortingOrder-e.sortingOrder})),this.currentCraft.clear(),t))this.addElementToCurrentCraft(e.name,e.quantity);return this.currentCraft}getItemRequirements(t,e=1){if(null!==t.craftingRequirements){for(var n=0;n<t.craftingRequirements.length;n++){var r=t.craftingRequirements[n].craftingItem.name,i=t.craftingRequirements[n].quantity*e,a=this.craftingRecipes.get(r);this.getItemRequirements(a,i),this.addElementToCurrentCraft(r,i)}return this.currentCraft}}addElementToCurrentCraft(t,e){if(void 0===this.currentCraft.get(t))this.currentCraft.set(t,e);else{var n=this.currentCraft.get(t);this.currentCraft.set(t,n+e)}}getTotalCost(t=1){var e=0;for(const[r,i]of this.getCraftingRequirements()){var n=this.craftingRecipes.get(r);n.quantity=i,e+=n.getCost(n.getCraftingMethod(this.craftingTime),t)}return e}}function i(t,e){return 1===t?e:e.concat("s")}var a=null,c=null,s=new Map;function o(t,e){c=e,a=new r(t),document.getElementById("calculate").onclick=l,document.getElementById("quickCalculate").onclick=l,document.getElementById("addFloor").onclick=d,document.getElementById("clear").onclick=f,document.getElementById("copyClipboard").onclick=u,document.getElementById("howToUse").onclick=m,function(t){var e=document.getElementById("craftingContainer"),n=null,r=null;for(const[a,c]of t.entries())if("raw"!=c.rarity&&"hidden"!=c.rarity)if(c.category!==n){n=c.category;let t=p(c.category);e.appendChild(t);var i=h();e.appendChild(i),C(r=i,c)}else C(r,c)}(a.craftingRecipes),function(t){var e=document.getElementById("floors");for(const[r,i]of t.entries()){var n=document.createElement("option");n.value=r,n.innerHTML=i,e.appendChild(n)}}(c)}function m(){const t=document.getElementById("guideContainer");t.classList.contains("guide-container-height")?t.classList.remove("guide-container-height"):t.classList.add("guide-container-height")}function u(){var t=document.createElement("table"),e=document.querySelectorAll("#outputTable tr th"),n=document.createElement("thead");t.appendChild(n);var r=document.createElement("tr");n.appendChild(r);for(var i=0;i<e.length;i++){var a=e[i].cloneNode(!0);r.appendChild(a)}n.appendChild(r);var c=document.querySelectorAll("#outputTable tr td"),s=document.createElement("tbody");for(r=document.createElement("tr"),i=0;i<c.length;i++){a=c[i].cloneNode(!0);r.appendChild(c[i].cloneNode(!0)),i%4==3&&0!==i&&(s.appendChild(r),r=document.createElement("tr"))}t.appendChild(s);var o=document.createElement("div");o.style="position: absolute; top: -9999999px; opacity: 0;",o.appendChild(t),document.body.appendChild(o);var m=document.createRange();m.selectNode(t),window.getSelection().removeAllRanges(),window.getSelection().addRange(m),document.execCommand("copy"),document.body.removeChild(o),I("copyClipboard","Copied!")}function f(){for(const[t,e]of a.craftingList.entries())R(t,-e);I("clear","Cleared!")}function d(){var t=document.getElementById("floors").value,e=c.get(t);if(void 0!==e){for(var n=0;n<e.requirements.length;n++){R(e.requirements[n][0],e.requirements[n][1])}I("addFloor",'Added floor: "'+e+'"')}else I("addFloor","Can't add floor")}function l(){var t=parseInt(document.getElementById("userTimeHours").value),e=parseInt(document.getElementById("userTimeMinutes").value),n=parseFloat(document.getElementById("userTimeBoost").value),r=0;if(isNaN(t)||(r+=60*t),isNaN(e)||(r+=e),!(r<=0)){if(a.craftingList.size<=0)return I("calculate","Nothing to calculate"),void I("quickCalculate","Nothing to calculate");a.setCraftingTime(r),document.getElementById("outputTable").getElementsByTagName("tbody")[0].innerHTML="",function(t=!0){if(t){if(s.size<=0)for(const[t,e]of a.craftingRecipes.entries())s.set(t,e.craftingTime),e.craftingTime=1}else{for(const[t,e]of a.craftingRecipes.entries())e.craftingTime=s.get(t);s.clear()}}(document.getElementById("crafting").checked);var i=a.getCraftingRequirements(),c=document.getElementById("outputTable").getElementsByTagName("tbody")[0];for(const[t,e]of i.entries()){var o=a.craftingRecipes.get(t);o.quantity=e,g(c,o,a.craftingTime,n)}document.getElementById("outputTotalCost").innerText="Total cost: "+a.getTotalCost(n).toLocaleString(),document.getElementById("outputContainer").scrollIntoView()}}function g(t,e,n,r){var i=t.insertRow(),a=i.insertCell(0),c=document.createTextNode(e.name);a.appendChild(c);var s=i.insertCell(1),o=document.createTextNode(e.quantity.toLocaleString());s.appendChild(o);var m=e.getCost(e.getCraftingMethod(n),r),u=i.insertCell(2),f=document.createTextNode(function(t,e=0){if(null===t)return null;if(0===t)return"0";e=!e||e<0?0:e;var n=t.toPrecision(2).split("e"),r=1===n.length?0:Math.floor(Math.min(n[1].slice(1),14)/3),i=r<1?t.toFixed(0+e):(t/Math.pow(10,3*r)).toFixed(1+e);return(i<0?i:Math.abs(i))+["","k","m","b","t"][r]}(m));u.appendChild(f);var d=e.getCraftingMethod(n),l=i.insertCell(3),g=document.createTextNode(d);l.appendChild(g)}function h(){var t=document.createElement("div");return t.classList.add("crafting-tier"),t}function p(t){var e=document.createElement("h2"),n=document.createTextNode(t);return e.appendChild(n),e}function C(t,e){var n=document.createElement("div");n.classList.add("crafting-item"),n.classList.add(e.rarity);var r=function(t){const e=document.createElement("label");return e.setAttribute("for",t),e.classList.add("crafting-item-button"),e.innerHTML=t+' <i class="fa fa-angle-double-down"></i>',e}(e.name);n.appendChild(r);var a=function(t){const e=document.createElement("p");e.classList.add("crafting-item-info"),e.id=t.name+"Info";for(let r=0;r<t.craftingRequirements.length;r++){var n=document.createTextNode(t.craftingRequirements[r]);e.appendChild(n),e.appendChild(document.createElement("br"))}e.appendChild(document.createTextNode("Crafting time: "+(r=t.craftingTime,a=Math.floor(r/1440),c=Math.floor((r-1440*a)/60),s=Math.round(r%60),o="",a>0&&(o+=a+" "+i(a,"day")+", "),c>0&&(o+=c+" "+i(c,"hour")+", "),s>0&&(o+=s+" min"),o.endsWith(", ")?o.substring(0,o.length-2):""===o?"N/A":o)));var r,a,c,s,o;var m=document.createTextNode("");return e.appendChild(m),e}(e);n.appendChild(a),r.onclick=t=>{a.classList.contains("display-crafting-item-info")?a.classList.remove("display-crafting-item-info"):a.classList.add("display-crafting-item-info"),t.preventDefault()};const c=function(t){const e=document.createElement("input");return e.id=t,e.classList.add("crafting-item-amount"),e.type="number",e.value=0,e.min=0,e.addEventListener("click",(function(){this.select()})),e.addEventListener("input",y),e}(e.name);n.appendChild(c);const s=function(t){const e=document.createElement("span");var n=document.createElement("img");n.src="images/arrow-up.png",n.setAttribute("alt","Increases amount of "+t),n.addEventListener("click",(function(){!function(t){R(t,1)}(t)})),e.appendChild(n);var r=document.createElement("img");return r.src="images/arrow-down.png",r.setAttribute("alt","Decreases amount of "+t),r.addEventListener("click",(function(){!function(t){R(t,-1)}(t)})),e.appendChild(r),e}(e.name);n.appendChild(s),t.appendChild(n)}function y(t){var e=parseInt(t.target.value);a.setCraftingItem(t.target.id,e),v(t.target.id)}function R(t,e){a.addCraftingItem(t,e),v(t)}function v(t){var e=a.craftingList.get(t);void 0===e&&(e=0),document.getElementById(t).value=e}function I(t,e){var n=$("#"+t);n.attr("data-content",e),n.popover("show")}},function(t,e,n){"use strict";n.r(e),n.d(e,"CraftingItem",(function(){return a}));var r=n(5),i=n(2);class a{constructor(t,e,n,r,i,a,c=null,s=1){this.name=t,this.category=e,this.baseCost=n,this.craftingTime=r,this.rarity=i,this.sortingOrder=a,this.quantity=s,this.craftingRequirements=c}getRarityValue(){switch(this.rarity){case i.Rarity.HIDDEN:return 0;case i.Rarity.RAW:return 1;default:case i.Rarity.COMMON:return 2;case i.Rarity.RARE:return 3;case i.Rarity.EPIC:return 4;case i.Rarity.LEGENDARY:return 5}}getCraftingMethod(t){var e=1;if(this.craftingTime<t&&(e=Math.floor(t/this.craftingTime)),e>this.quantity)return e=this.quantity,[new r.CraftingMethod(1,this.quantity)];if(1===e)return[new r.CraftingMethod(this.quantity,1)];for(var n=Math.ceil(this.quantity/e),i=n-1,a=1;a<=e;a++){if(n*a+i*(e-a)===this.quantity)return e-a>0?[new r.CraftingMethod(n,a),new r.CraftingMethod(i,e-a)]:[new r.CraftingMethod(n,a)]}return[]}getCost(t,e=1){for(var n=0,r=0;r<t.length;r++)n+=this.baseCost/4*(Math.pow(t[r].itemQuantity,2)+3*t[r].itemQuantity)*t[r].crafts;return"3 Stars"===this.name?n:Math.ceil(n/e)}toString(){var t="";if(null!==this.craftingRequirements){for(var e=0;e<this.craftingRequirements.length;e++)t+=this.craftingRequirements[e].craftingItem.name+": "+this.craftingRequirements[e].quantity*this.quantity+", ";t=t.substring(0,t.length-2)}return"["+this.category+"/"+this.rarity+"] "+this.name+"("+this.quantity+"): "+this.baseCost+"coins, "+this.craftingTime+"min. Crafting Requirement: "+t}}},function(t,e,n){"use strict";n.r(e),n.d(e,"CraftingMethod",(function(){return r}));class r{constructor(t,e){this.itemQuantity=t,this.crafts=e}toString(){return"Craft: "+this.itemQuantity+"x, "+this.crafts+"times"}}},function(t,e,n){"use strict";n.r(e),n.d(e,"CraftingRequirement",(function(){return r}));class r{constructor(t,e){this.craftingItem=t,this.quantity=e}toString(){return this.craftingItem.name+": "+this.quantity}}},,,function(t,e,n){"use strict";n.r(e),n.d(e,"getFloorRecipes",(function(){return a}));var r=n(0),i=n(1);function a(){var t=new Map;const e=[[i.craftingItemNames[0],5],[i.craftingItemNames[1],8],[i.craftingItemNames[2],7],[i.craftingItemNames[3],32],[i.craftingItemNames[4],21],[i.craftingItemNames[5],11]],n=new r.a("All decorations/cats",0,e);t.set(n.name,n);const a=[[i.craftingItemNames[2],3],[i.craftingItemNames[3],2]],c=new r.a(i.prizeNames[0],1,a);t.set(c.name,c);const s=[[i.craftingItemNames[3],1]],o=new r.a(i.prizeNames[1],2,s);t.set(o.name,o);const m=[[i.craftingItemNames[0],5],[i.craftingItemNames[3],3],[i.craftingItemNames[4],2]],u=new r.a(i.prizeNames[2],3,m);t.set(u.name,u);const f=[[i.craftingItemNames[1],2],[i.craftingItemNames[3],2],[i.craftingItemNames[4],1]],d=new r.a(i.prizeNames[3],4,f);t.set(d.name,d);const l=[[i.craftingItemNames[1],6],[i.craftingItemNames[3],6],[i.craftingItemNames[4],4]],g=new r.a(i.prizeNames[4],5,l);t.set(g.name,g);const h=[[i.craftingItemNames[2],4],[i.craftingItemNames[3],4],[i.craftingItemNames[4],3]],p=new r.a(i.prizeNames[5],6,h);t.set(p.name,p);const C=[[i.craftingItemNames[3],4],[i.craftingItemNames[4],3],[i.craftingItemNames[5],2]],y=new r.a(i.prizeNames[6],7,C);t.set(y.name,y);const R=[[i.craftingItemNames[3],1],[i.craftingItemNames[4],2],[i.craftingItemNames[5],2]],v=new r.a(i.prizeNames[7],8,R);t.set(v.name,v);const I=[[i.craftingItemNames[3],4],[i.craftingItemNames[4],3],[i.craftingItemNames[5],3]],N=new r.a(i.prizeNames[8],9,I);t.set(N.name,N);const q=[[i.craftingItemNames[3],5],[i.craftingItemNames[4],3],[i.craftingItemNames[5],4]],w=new r.a(i.prizeNames[9],10,q);return t.set(w.name,w),t}},,,,,,function(t,e,n){n(16),n(9),t.exports=n(1)},function(t,e,n){"use strict";n.r(e);var r=n(1),i=n(3),a=n(9),c=n(2);function s(t,e){const n=document.getElementsByClassName("raw-material");var r=0;for(const[s,o]of t.entries())if(null!==o.craftingRequirements){var i=o.craftingRequirements[0].craftingItem;if(i.rarity===c.Rarity.RAW){var a=n[r];i.name===e?(o.craftingRequirements[0].quantity=8,a.classList.add("selected-raw-material")):(o.craftingRequirements[0].quantity=4,a.classList.remove("selected-raw-material"));n[r].getElementsByTagName("h3")[0].innerText=i.name+": "+o.craftingRequirements[0].quantity,r+=1}}}$(document).ready((function(){const t=Object(r.getCraftingRecipes)();var e=Object(a.getFloorRecipes)();Object(i.a)(t,e),function(t){const e=document.getElementsByClassName("raw-material"),n=document.getElementsByClassName("crafting-item-header");var r=0;for(const[a,o]of t.entries())if(null!==o.craftingRequirements){var i=o.craftingRequirements[0].craftingItem;if(i.rarity===c.Rarity.RAW){n[r].innerText=i.name+": "+o.craftingRequirements[0].quantity;const a=i.name;e[r].onclick=function(){s(t,a)},r+=1}}}(t)}))}]);