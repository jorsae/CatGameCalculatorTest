!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=19)}([function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));class i{constructor(t,e,n){this.name=t,this.floorNumber=e,this.requirements=n}toString(){return this.floorNumber+": "+this.name}}},function(t,e,n){"use strict";n.r(e),n.d(e,"lightTheme",(function(){return i})),n.d(e,"lightThemeCookie",(function(){return r})),n.d(e,"lightThemeCookieDefaultValue",(function(){return a})),n.d(e,"isLightTheme",(function(){return o})),n.d(e,"setCookie",(function(){return c}));const i="light-theme",r="lightTheme",a="false";function o(){var t=function(t){var e=("; "+document.cookie).split("; "+t+"=");if(2==e.length)return e.pop().split(";").shift()}(r);return null==t?(c(r,a,365),!1):t!==a}function c(t,e,n){var i="";if(n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3),i="; expires="+r.toUTCString()}document.cookie=t+"="+(e||"")+i+"; path=/"}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return f}));class i{constructor(t){this.craftingRecipes=t,this.craftingList=new Map,this.craftingTime=30,this.currentCraft=new Map}addCraftingItem(t,e){if(void 0!==this.craftingRecipes.get(t)){var n=this.craftingList.get(t);if(void 0===n)0===e?this.craftingList.delete(t):this.craftingList.set(t,e);else 0===n+e?this.craftingList.delete(t):this.craftingList.set(t,n+e)}}setCraftingItem(t,e){void 0!==this.craftingRecipes.get(t)&&(0===e?this.craftingList.delete(t):this.craftingList.set(t,e))}setCraftingTime(t){this.craftingTime=t}getCraftingRequirements(){this.currentCraft.clear();for(const[t,n]of this.craftingList.entries()){(e=this.craftingRecipes.get(t)).quantity=n,this.getItemRequirements(e,e.quantity),this.addElementToCurrentCraft(e.name,e.quantity)}var t=[];for(const[n,i]of this.currentCraft.entries()){(e=this.craftingRecipes.get(n)).quantity=i,t.push(e)}for(var e of(t.sort((function(t,e){return t.sortingOrder-e.sortingOrder})),this.currentCraft.clear(),t))this.addElementToCurrentCraft(e.name,e.quantity);return this.currentCraft}getItemRequirements(t,e=1){if(null!==t.craftingRequirements){for(var n=0;n<t.craftingRequirements.length;n++){var i=t.craftingRequirements[n].craftingItem.name,r=t.craftingRequirements[n].quantity*e,a=this.craftingRecipes.get(i);this.getItemRequirements(a,r),this.addElementToCurrentCraft(i,r)}return this.currentCraft}}addElementToCurrentCraft(t,e){if(void 0===this.currentCraft.get(t))this.currentCraft.set(t,e);else{var n=this.currentCraft.get(t);this.currentCraft.set(t,n+e)}}getTotalCost(t=1){var e=0;for(const[i,r]of this.getCraftingRequirements()){var n=this.craftingRecipes.get(i);n.quantity=r,e+=n.getCost(this.craftingTime,t)}return e}}function r(t,e){return 1===t?e:e.concat("s")}var a=n(1),o=n(8),c=n(4),s=null,u=null,m=new Map;function f(t,e){u=e,s=new i(t),document.getElementById("howToUse").onclick=o.displayHowTo,document.getElementById("calculate").onclick=d,document.getElementById("quickCalculate").onclick=d,document.getElementById("addFloor").onclick=o.addFloor,document.getElementById("clear").onclick=o.clear,document.getElementById("copyClipboard").onclick=o.copyClipboard,function(t){var e=document.getElementById("craftingContainer");Object(a.isLightTheme)()&&e.classList.add(a.lightTheme);var n=null,i=null;for(const[a,o]of t.entries())if("raw"!=o.rarity&&"hidden"!=o.rarity)if(o.category!==n){n=o.category;let t=h(o.category);e.appendChild(t);var r=g();e.appendChild(r),p(i=r,o)}else p(i,o)}(s.craftingRecipes),function(t){var e=document.getElementById("floors");for(const[i,r]of t.entries()){var n=document.createElement("option");n.value=i,n.innerHTML=r,e.appendChild(n)}}(u)}function d(){var t=parseInt(document.getElementById("userTimeHours").value),e=parseInt(document.getElementById("userTimeMinutes").value),n=parseFloat(document.getElementById("userTimeBoost").value),i=0;if(isNaN(t)||(i+=60*t),isNaN(e)||(i+=e),!(i<=0)){if(s.craftingList.size<=0)return c.displayPopover("calculate","Nothing to calculate"),void c.displayPopover("quickCalculate","Nothing to calculate");s.setCraftingTime(i),document.getElementById("outputTable").getElementsByTagName("tbody")[0].innerHTML="",function(t=!0){if(t){if(m.size<=0)for(const[t,e]of s.craftingRecipes.entries())m.set(t,e.craftingTime),e.craftingTime=1}else if(m.size>0){for(const[t,e]of s.craftingRecipes.entries())e.craftingTime=m.get(t);m.clear()}}(document.getElementById("crafting").checked);var r=s.getCraftingRequirements(),a=document.getElementById("outputTable").getElementsByTagName("tbody")[0];for(const[t,e]of r.entries()){var o=s.craftingRecipes.get(t);o.quantity=e,l(a,o,s.craftingTime,n)}document.getElementById("outputTotalCost").innerText="Total cost: "+s.getTotalCost(n).toLocaleString(),document.getElementById("outputContainer").scrollIntoView()}}function l(t,e,n,i){var r=t.insertRow();Object(a.isLightTheme)()&&r.classList.add(a.lightTheme);var o=r.insertCell(0),c=document.createTextNode(e.name);o.appendChild(c);var s=r.insertCell(1),u=document.createTextNode(e.quantity.toLocaleString());s.appendChild(u);var m=e.getCost(n,i),f=r.insertCell(2),d=document.createTextNode(function(t,e=0){if(null===t)return null;if(0===t)return"0";e=!e||e<0?0:e;var n=t.toPrecision(2).split("e"),i=1===n.length?0:Math.floor(Math.min(n[1].slice(1),14)/3),r=i<1?t.toFixed(0+e):(t/Math.pow(10,3*i)).toFixed(1+e);return(r<0?r:Math.abs(r))+["","k","m","b","t"][i]}(m));f.appendChild(d);var l=e.getCraftingMethod(n),g=r.insertCell(3),h=document.createTextNode(l);g.appendChild(h)}function g(){var t=document.createElement("div");return t.classList.add("crafting-tier"),t}function h(t){var e=document.createElement("h2"),n=document.createTextNode(t);return e.appendChild(n),e}function p(t,e){var n=document.createElement("div");n.classList.add("crafting-item"),Object(a.isLightTheme)()&&n.classList.add(a.lightTheme);var i=function(t){const e=document.createElement("label");return e.setAttribute("for",t),e.classList.add("crafting-item-button"),e.innerHTML=t+' <i class="fa fa-angle-double-down"></i>',e}(e.name);n.appendChild(i);var c=function(t){const e=document.createElement("p");e.classList.add("crafting-item-info"),e.id=t.name+"Info";for(let i=0;i<t.craftingRequirements.length;i++){var n=document.createTextNode(t.craftingRequirements[i]);e.appendChild(n),e.appendChild(document.createElement("br"))}e.appendChild(document.createTextNode("Crafting time: "+(i=t.craftingTime,a=Math.floor(i/1440),o=Math.floor((i-1440*a)/60),c=Math.round(i%60),s="",a>0&&(s+=a+" "+r(a,"day")+", "),o>0&&(s+=o+" "+r(o,"hour")+", "),c>0&&(s+=c+" min"),s.endsWith(", ")?s.substring(0,s.length-2):""===s?"N/A":s)));var i,a,o,c,s;var u=document.createTextNode("");return e.appendChild(u),e}(e);n.appendChild(c),i.onclick=t=>{c.classList.contains("display-crafting-item-info")?c.classList.remove("display-crafting-item-info"):c.classList.add("display-crafting-item-info"),t.preventDefault()};const s=function(t){const e=document.createElement("input");e.id=t,e.classList.add("crafting-item-amount"),Object(a.isLightTheme)()&&e.classList.add(a.lightTheme);return e.type="number",e.value=0,e.min=0,e.addEventListener("click",(function(){this.select()})),e.addEventListener("input",o.craftingAmountUpdate),e}(e.name);n.appendChild(s);const u=function(t){const e=document.createElement("span");var n=document.createElement("img");n.src="images/arrow-up.png",n.setAttribute("alt","Increases amount of "+t),n.addEventListener("click",(function(){o.upClick(t)})),e.appendChild(n);var i=document.createElement("img");return i.src="images/arrow-down.png",i.setAttribute("alt","Decreases amount of "+t),i.addEventListener("click",(function(){o.downClick(t)})),e.appendChild(i),e}(e.name);n.appendChild(u),t.appendChild(n)}},function(t,e,n){"use strict";n.r(e),n.d(e,"Rarity",(function(){return i}));const i={HIDDEN:"hidden",RAW:"raw",COMMON:"common",RARE:"rare",EPIC:"epic",LEGENDARY:"legendary"}},function(t,e,n){"use strict";n.r(e),n.d(e,"displayPopover",(function(){return r})),n.d(e,"increaseCraftingAmount",(function(){return a})),n.d(e,"updateCraftingAmount",(function(){return o}));var i=n(2);function r(t,e){var n=$("#"+t);n.attr("data-content",e),n.popover("show")}function a(t,e){i.a.addCraftingItem(t,e),o(t)}function o(t){var e=i.a.craftingList.get(t);void 0===e&&(e=0),document.getElementById(t).value=e}},function(t,e,n){"use strict";n.r(e),n.d(e,"CraftingItem",(function(){return a}));var i=n(6),r=n(3);class a{constructor(t,e,n,i,r,a,o=null,c=1){this.name=t,this.category=e,this.baseCost=n,this.craftingTime=i,this.rarity=r,this.sortingOrder=a,this.quantity=c,this.craftingRequirements=o}getRarityValue(){switch(this.rarity){case r.Rarity.HIDDEN:return 0;case r.Rarity.RAW:return 1;default:case r.Rarity.COMMON:return 2;case r.Rarity.RARE:return 3;case r.Rarity.EPIC:return 4;case r.Rarity.LEGENDARY:return 5}}getCraftingMethod(t){var e=1;if(this.craftingTime<t&&(e=Math.floor(t/this.craftingTime)),e>this.quantity)return e=this.quantity,[new i.CraftingMethod(1,this.quantity)];if(1===e)return[new i.CraftingMethod(this.quantity,1)];for(var n=Math.ceil(this.quantity/e),r=n-1,a=1;a<=e;a++){if(n*a+r*(e-a)===this.quantity)return e-a>0?[new i.CraftingMethod(n,a),new i.CraftingMethod(r,e-a)]:[new i.CraftingMethod(n,a)]}return[]}getCost(t,e=1){for(var n=this.getCraftingMethod(t),i=0,r=0;r<n.length;r++)i+=this.baseCost/4*(Math.pow(n[r].itemQuantity,2)+3*n[r].itemQuantity)*n[r].crafts;return"3 Stars"===this.name?i:Math.ceil(i/e)}toString(){var t="";if(null!==this.craftingRequirements){for(var e=0;e<this.craftingRequirements.length;e++)t+=this.craftingRequirements[e].craftingItem.name+": "+this.craftingRequirements[e].quantity*this.quantity+", ";t=t.substring(0,t.length-2)}return"["+this.category+"/"+this.rarity+"] "+this.name+"("+this.quantity+"): "+this.baseCost+"coins, "+this.craftingTime+"min. Crafting Requirement: "+t}}},function(t,e,n){"use strict";n.r(e),n.d(e,"CraftingMethod",(function(){return i}));class i{constructor(t,e){this.itemQuantity=t,this.crafts=e}toString(){return"Craft: "+this.itemQuantity+"x, "+this.crafts+"times"}}},function(t,e,n){"use strict";n.r(e),n.d(e,"CraftingRequirement",(function(){return i}));class i{constructor(t,e){this.craftingItem=t,this.quantity=e}toString(){return this.craftingItem.name+": "+this.quantity}}},function(t,e,n){"use strict";n.r(e),n.d(e,"displayHowTo",(function(){return a})),n.d(e,"addFloor",(function(){return o})),n.d(e,"clear",(function(){return c})),n.d(e,"copyClipboard",(function(){return s})),n.d(e,"upClick",(function(){return u})),n.d(e,"downClick",(function(){return m})),n.d(e,"craftingAmountUpdate",(function(){return f}));var i=n(2),r=n(4);function a(){const t=document.getElementById("guideContainer");t.classList.contains("guide-container-height")?t.classList.remove("guide-container-height"):t.classList.add("guide-container-height")}function o(){var t=document.getElementById("floors").value,e=i.b.get(t);if(void 0!==e){for(var n=0;n<e.requirements.length;n++){var a=e.requirements[n][0],o=e.requirements[n][1];r.increaseCraftingAmount(a,o)}r.displayPopover("addFloor",'Added floor: "'+e+'"')}else r.displayPopover("addFloor","Can't add floor")}function c(){for(const[t,e]of i.a.craftingList.entries())r.increaseCraftingAmount(t,-e);r.displayPopover("clear","Cleared!")}function s(){var t=document.createElement("table"),e=document.querySelectorAll("#outputTable tr th"),n=document.createElement("thead");t.appendChild(n);var i=document.createElement("tr");n.appendChild(i);for(var a=0;a<e.length;a++){var o=e[a].cloneNode(!0);i.appendChild(o)}n.appendChild(i);var c=document.querySelectorAll("#outputTable tr td"),s=document.createElement("tbody");for(i=document.createElement("tr"),a=0;a<c.length;a++){o=c[a].cloneNode(!0);i.appendChild(c[a].cloneNode(!0)),a%4==3&&0!==a&&(s.appendChild(i),i=document.createElement("tr"))}t.appendChild(s);var u=document.createElement("div");u.style="position: absolute; top: -9999999px; opacity: 0;",u.appendChild(t),document.body.appendChild(u);var m=document.createRange();m.selectNode(t),window.getSelection().removeAllRanges(),window.getSelection().addRange(m),document.execCommand("copy"),document.body.removeChild(u),r.displayPopover("copyClipboard","Copied!")}function u(t){r.increaseCraftingAmount(t,1)}function m(t){r.increaseCraftingAmount(t,-1)}function f(t){var e=parseInt(t.target.value);i.a.setCraftingItem(t.target.id,e),r.updateCraftingAmount(t.target.id)}},,,function(t,e,n){"use strict";n.r(e),n.d(e,"getCraftingRecipes",(function(){return o}));var i=n(5),r=n(7),a=n(3);function o(){var t=new Map;const e=new i.CraftingItem("Raw Material A","",0,0,a.Rarity.RAW,1),n=new i.CraftingItem("Raw Material B","",0,0,a.Rarity.RAW,2),o=new i.CraftingItem("Raw Material C","",0,0,a.Rarity.RAW,3);t.set(e.name,e),t.set(n.name,n),t.set(o.name,o);const c=[new r.CraftingRequirement(e,4)],s=new i.CraftingItem("Item A","Tier 1 Crafting",20,15,a.Rarity.COMMON,5,c);t.set(s.name,s);const u=[new r.CraftingRequirement(n,4)],m=new i.CraftingItem("Item B","Tier 1 Crafting",20,15,a.Rarity.COMMON,6,u);t.set(m.name,m);const f=[new r.CraftingRequirement(o,4)],d=new i.CraftingItem("Item C","Tier 1 Crafting",20,15,a.Rarity.COMMON,7,f);t.set(d.name,d);const l=[new r.CraftingRequirement(s,3),new r.CraftingRequirement(m,2),new r.CraftingRequirement(d,2)],g=new i.CraftingItem("Item D","Tier 2 Crafting",150,15,a.Rarity.RARE,8,l);t.set(g.name,g);const h=[new r.CraftingRequirement(g,2),new r.CraftingRequirement(d,4),new r.CraftingRequirement(m,4)],p=new i.CraftingItem("Item E","Tier 2 Crafting",200,30,a.Rarity.RARE,9,h);t.set(p.name,p);const C=[new r.CraftingRequirement(p,3),new r.CraftingRequirement(s,8)],y=new i.CraftingItem("Item F","Tier 2 Crafting",400,60,a.Rarity.RARE,10,C);t.set(y.name,y);const v=[new r.CraftingRequirement(s,1),new r.CraftingRequirement(m,1),new r.CraftingRequirement(d,1),new r.CraftingRequirement(p,1)],R=new i.CraftingItem("3 Stars","Star Crafting",300,0,a.Rarity.RARE,11,v);return t.set(R.name,R),t}},function(t,e,n){"use strict";n.r(e),n.d(e,"getFloorRecipes",(function(){return r}));var i=n(0);function r(){var t=new Map;const e=new i.a("All decorations/cats",0,[["Item A",5],["Item B",8],["Item C",7],["Item D",32],["Item E",21],["Item F",11]]);t.set(e.name,e);const n=new i.a("Cat 1",1,[["Item C",3],["Item D",2]]);t.set(n.name,n);const r=new i.a("Decoration 1",2,[["Item D",1]]);t.set(r.name,r);const a=new i.a("Cat 2",3,[["Item A",5],["Item D",3],["Item E",2]]);t.set(a.name,a);const o=new i.a("Decoration 2",4,[["Item B",2],["Item D",2],["Item E",1]]);t.set(o.name,o);const c=new i.a("Cat 3",5,[["Item B",6],["Item D",6],["Item E",4]]);t.set(c.name,c);const s=new i.a("Decoration 3",6,[["Item C",4],["Item D",4],["Item E",3]]);t.set(s.name,s);const u=new i.a("Cat 4",7,[["Item D",4],["Item E",3],["Item F",2]]);t.set(u.name,u);const m=new i.a("Decoration 4",8,[["Item D",1],["Item E",2],["Item F",2]]);t.set(m.name,m);const f=new i.a("Decoration 5",9,[["Item D",4],["Item E",3],["Item F",3]]);t.set(f.name,f);const d=new i.a("Decoration 6",10,[["Item D",5],["Item E",3],["Item F",4]]);return t.set(d.name,d),t}},,,,,,,function(t,e,n){n(20),n(12),t.exports=n(11)},function(t,e,n){"use strict";n.r(e);var i=n(11),r=n(2),a=n(12),o=n(3);function c(t,e){const n=document.getElementsByClassName("raw-material");var i=0;for(const[c,s]of t.entries())if(null!==s.craftingRequirements){var r=s.craftingRequirements[0].craftingItem;if(r.rarity===o.Rarity.RAW){var a=n[i];r.name===e?(s.craftingRequirements[0].quantity=8,a.classList.add("selected-raw-material")):(s.craftingRequirements[0].quantity=4,a.classList.remove("selected-raw-material"));n[i].getElementsByTagName("h3")[0].innerText=r.name+": "+s.craftingRequirements[0].quantity,i+=1}}}$(document).ready((function(){const t=Object(i.getCraftingRecipes)();var e=Object(a.getFloorRecipes)();Object(r.c)(t,e),function(t){const e=document.getElementsByClassName("raw-material"),n=document.getElementsByClassName("crafting-item-header");var i=0;for(const[a,s]of t.entries())if(null!==s.craftingRequirements){var r=s.craftingRequirements[0].craftingItem;if(r.rarity===o.Rarity.RAW){n[i].innerText=r.name+": "+s.craftingRequirements[0].quantity;const a=r.name;e[i].onclick=function(){c(t,a)},i+=1}}}(t)}))}]);