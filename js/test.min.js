!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=25)}({10:function(t,e,n){"use strict";n.r(e),n.d(e,"CraftingMethod",(function(){return i}));class i{constructor(t,e){this.itemQuantity=t,this.crafts=e}toString(){var t=1===this.crafts?"time":"times";return this.itemQuantity+"x "+this.crafts+t}}},11:function(t,e,n){"use strict";n.r(e),n.d(e,"CraftingRequirement",(function(){return i}));class i{constructor(t,e){this.craftingItem=t,this.quantity=e}toString(){return this.craftingItem.name+": "+this.quantity}}},13:function(t,e,n){"use strict";n.r(e),n.d(e,"getCraftingRecipes",(function(){return s}));var i=n(9),r=n(11),a=n(6);function s(){var t=new Map;const e=new i.CraftingItem("Cotton","",0,0,a.Rarity.RAW,1),n=new i.CraftingItem("Log","",0,0,a.Rarity.RAW,2),s=new i.CraftingItem("Rock","",0,0,a.Rarity.RAW,3),f=new i.CraftingItem("Quartz","",0,0,a.Rarity.RAW,4);t.set(e.name,e),t.set(n.name,n),t.set(s.name,s),t.set(f.name,f);var g=[new r.CraftingRequirement(e,3)];const u=new i.CraftingItem("String","Basic Crafting",50,5,a.Rarity.COMMON,5,g);t.set(u.name,u);var c=[new r.CraftingRequirement(n,3)];const o=new i.CraftingItem("Wood","Basic Crafting",50,5,a.Rarity.COMMON,6,c);t.set(o.name,o);var m=[new r.CraftingRequirement(u,2),new r.CraftingRequirement(o,2)];const C=new i.CraftingItem("Ribbon","Basic Crafting",100,15,a.Rarity.RARE,7,m);t.set(C.name,C);var h=[new r.CraftingRequirement(s,3)];const R=new i.CraftingItem("Metal","Shiny Crafting",100,15,a.Rarity.COMMON,8,h);t.set(R.name,R);var y=[new r.CraftingRequirement(R,4),new r.CraftingRequirement(C,1)];const d=new i.CraftingItem("Needles","Shiny Crafting",200,30,a.Rarity.RARE,9,y);t.set(d.name,d);var l=[new r.CraftingRequirement(d,2),new r.CraftingRequirement(C,2)];const q=new i.CraftingItem("Sparkles","Shiny Crafting",300,60,a.Rarity.EPIC,10,l);t.set(q.name,q);var w=[new r.CraftingRequirement(s,4)];const v=new i.CraftingItem("Bronze","Precious Crafting",200,30,a.Rarity.COMMON,11,w);t.set(v.name,v);var I=[new r.CraftingRequirement(v,3),new r.CraftingRequirement(q,1)];const M=new i.CraftingItem("Silver","Precious Crafting",300,120,a.Rarity.RARE,12,I);t.set(M.name,M);var p=[new r.CraftingRequirement(M,2),new r.CraftingRequirement(q,2)];const E=new i.CraftingItem("Gold","Precious Crafting",500,360,a.Rarity.EPIC,13,p);t.set(E.name,E);var A=[new r.CraftingRequirement(f,10)];const O=new i.CraftingItem("Amethyst","Jewel Crafting",300,60,a.Rarity.COMMON,14,A);t.set(O.name,O);var b=[new r.CraftingRequirement(O,7),new r.CraftingRequirement(M,2)];const T=new i.CraftingItem("Pendant","Jewel Crafting",500,180,a.Rarity.RARE,15,b);t.set(T.name,T);var x=[new r.CraftingRequirement(T,3),new r.CraftingRequirement(E,2)];const Q=new i.CraftingItem("Necklace","Jewel Crafting",500,760,a.Rarity.EPIC,16,x);t.set(Q.name,Q);var N=[new r.CraftingRequirement(f,20)];const P=new i.CraftingItem("Orb","Magic Crafting",300,60,a.Rarity.COMMON,17,N);t.set(P.name,P);var S=[new r.CraftingRequirement(P,2),new r.CraftingRequirement(M,1)];const L=new i.CraftingItem("Water","Magic Crafting",800,360,a.Rarity.RARE,18,S);t.set(L.name,L);var W=[new r.CraftingRequirement(P,6),new r.CraftingRequirement(E,1)];const D=new i.CraftingItem("Fire","Magic Crafting",1e3,720,a.Rarity.EPIC,19,W);t.set(D.name,D);var j=[new r.CraftingRequirement(L,2),new r.CraftingRequirement(C,10)];const _=new i.CraftingItem("Waterstone","Ancient Crafting",1500,720,a.Rarity.RARE,20,j);t.set(_.name,_);var G=[new r.CraftingRequirement(D,1),new r.CraftingRequirement(q,2)];const B=new i.CraftingItem("Firestone","Ancient Crafting",1500,720,a.Rarity.EPIC,21,G);t.set(B.name,B);var Y=[new r.CraftingRequirement(B,1),new r.CraftingRequirement(_,1)];const k=new i.CraftingItem("Elementstone","Ancient Crafting",5e3,1440,a.Rarity.LEGENDARY,22,Y);t.set(k.name,k);var J=[new r.CraftingRequirement(k,1),new r.CraftingRequirement(Q,1)];const z=new i.CraftingItem("Artifact","Ruin Crafting",1e4,4320,a.Rarity.LEGENDARY,23,J);return t.set(z.name,z),t}},25:function(t,e,n){var i=n(8),r=n(13).getCraftingRecipes(),a=new i.Crafting(r);a.addItemToCrafting("Artifact",2),console.log(a.craftingRecipes.get("Artifact")),a.updateCraftingItemMaxCraftingQuantity("Artifact",2),console.log(a.craftingRecipes.get("Artifact"));var s=a.getTotalCost();console.log(s)},6:function(t,e,n){"use strict";n.r(e),n.d(e,"Rarity",(function(){return i}));const i={HIDDEN:"hidden",RAW:"raw",COMMON:"common",RARE:"rare",EPIC:"epic",LEGENDARY:"legendary"}},8:function(t,e,n){"use strict";n.r(e),n.d(e,"Crafting",(function(){return i}));class i{constructor(t){this.craftingRecipes=t,this.craftingList=new Map,this.craftingTime=30,this.currentCraft=new Map,this.inventory=new Map}addItemToCrafting(t,e){if(void 0!==this.craftingRecipes.get(t)){var n=this.craftingList.get(t);if(void 0===n)0===e?this.craftingList.delete(t):this.craftingList.set(t,e);else 0===n+e?this.craftingList.delete(t):this.craftingList.set(t,n+e)}}setItemToCrafting(t,e){void 0!==this.craftingRecipes.get(t)&&(0===e?this.craftingList.delete(t):this.craftingList.set(t,e))}addItemToInventory(t,e){if(void 0!==this.craftingRecipes.get(t)){var n=this.inventory.get(t);if(void 0===n)0===e?this.inventory.delete(t):this.inventory.set(t,e);else 0===n+e?this.inventory.delete(t):this.inventory.set(t,n+e)}}setItemToInventory(t,e){void 0!==this.craftingRecipes.get(t)&&(0===e?this.inventory.delete(t):this.inventory.set(t,e))}setCraftingTime(t){this.craftingTime=t}getCraftingRequirements(t=!0){this.currentCraft.clear();for(const[t,e]of this.craftingList.entries()){(n=this.craftingRecipes.get(t)).quantity=e,this.getItemRequirements(n,n.quantity),this.addElementToCurrentCraft(n.name,n.quantity)}if(t)for(const[t,i]of this.currentCraft.entries()){var e=this.inventory.get(t);if(void 0!==e){var n=this.craftingRecipes.get(t);this.subtractItemRequirements(n,e),this.addElementToCurrentCraft(n.name,-e)}}var i=[];for(const[t,e]of this.currentCraft.entries()){(n=this.craftingRecipes.get(t)).quantity=e,i.push(n)}for(var n of(i.sort((function(t,e){return t.sortingOrder-e.sortingOrder})),this.currentCraft.clear(),i))this.addElementToCurrentCraft(n.name,n.quantity);return this.currentCraft}subtractItemRequirements(t,e=1){if(null!==t.craftingRequirements){for(var n=0;n<t.craftingRequirements.length;n++){var i=t.craftingRequirements[n].craftingItem.name,r=t.craftingRequirements[n].quantity*e,a=this.craftingRecipes.get(i);this.subtractItemRequirements(a,r),this.addElementToCurrentCraft(i,-r)}return this.currentCraft}}getItemRequirements(t,e=1){if(null!==t.craftingRequirements){for(var n=0;n<t.craftingRequirements.length;n++){var i=t.craftingRequirements[n].craftingItem.name,r=t.craftingRequirements[n].quantity*e,a=this.craftingRecipes.get(i);this.getItemRequirements(a,r),this.addElementToCurrentCraft(i,r)}return this.currentCraft}}addElementToCurrentCraft(t,e){if(void 0===this.currentCraft.get(t))e>0&&this.currentCraft.set(t,e);else{var n=this.currentCraft.get(t)+e;n<0?this.currentCraft.delete(t):this.currentCraft.set(t,n)}}massUpdateCraftingItemMaxCraftingQuantity(t){for(const[i,r]of this.craftingRecipes.entries()){var e=1,n=t.get(i);void 0!==n&&(e=n),this.updateCraftingItemMaxCraftingQuantity(i,e)}}updateCraftingItemMaxCraftingQuantity(t,e){var n=this.craftingRecipes.get(t);void 0!==n&&(n.maxCraftingQuantity=e,this.craftingRecipes.set(t,n))}resetCraftingItemMaxCraftingQuantity(){for(const[t,e]of this.craftingRecipes.entries())e.maxCraftingQuantity=-1,this.craftingRecipes.set(t,e)}getTotalCost(t=1,e=!0){var n=0;for(const[r,a]of this.getCraftingRequirements(e)){var i=this.craftingRecipes.get(r);i.quantity=a,n+=i.getCost(this.craftingTime,t)}return n}}},9:function(t,e,n){"use strict";n.r(e),n.d(e,"CraftingItem",(function(){return a}));var i=n(10),r=n(6);class a{constructor(t,e,n,i,r,a,s=null,f=1){this.name=t,this.category=e,this.baseCost=n,this.craftingTime=i,this.rarity=r,this.sortingOrder=a,this.quantity=f,this.maxCraftingQuantity=-1,this.craftingRequirements=s}getRarityValue(){switch(this.rarity){case r.Rarity.HIDDEN:return 0;case r.Rarity.RAW:return 1;default:case r.Rarity.COMMON:return 2;case r.Rarity.RARE:return 3;case r.Rarity.EPIC:return 4;case r.Rarity.LEGENDARY:return 5}}getCraftingMethod(t){if(this.maxCraftingQuantity>0){var e=Math.floor(this.quantity/this.maxCraftingQuantity),n=this.quantity-this.maxCraftingQuantity*e;return e>0?n<=0?[new i.CraftingMethod(this.maxCraftingQuantity,e)]:[new i.CraftingMethod(this.maxCraftingQuantity,e),new i.CraftingMethod(n,1)]:[new i.CraftingMethod(this.quantity,1)]}e=1;if(this.craftingTime<t&&(e=Math.floor(t/this.craftingTime)),e>this.quantity)return e=this.quantity,[new i.CraftingMethod(1,this.quantity)];if(1===e)return[new i.CraftingMethod(this.quantity,1)];for(var r=Math.ceil(this.quantity/e),a=r-1,s=1;s<=e;s++){if(r*s+a*(e-s)===this.quantity)return e-s>0?[new i.CraftingMethod(r,s),new i.CraftingMethod(a,e-s)]:[new i.CraftingMethod(r,s)]}return[]}getCost(t,e=1){for(var n=this.getCraftingMethod(t),i=0,r=0;r<n.length;r++)i+=this.baseCost/4*(Math.pow(n[r].itemQuantity,2)+3*n[r].itemQuantity)*n[r].crafts;return"3 Stars"===this.name?i:Math.ceil(i/e)}toString(){var t="";if(null!==this.craftingRequirements){for(var e=0;e<this.craftingRequirements.length;e++)t+=this.craftingRequirements[e].craftingItem.name+": "+this.craftingRequirements[e].quantity*this.quantity+", ";t=t.substring(0,t.length-2)}return"["+this.category+"/"+this.rarity+"] "+this.name+"("+this.quantity+"): "+this.baseCost+"coins, "+this.craftingTime+"min. Crafting Requirement: "+t}}}});